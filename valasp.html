
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>valasp package &#8212; ValAsp 0.2.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="valasp.domain package" href="valasp.domain.html" />
    <link rel="prev" title="Welcome to valasp’s documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="valasp.domain.html" title="valasp.domain package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to valasp’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ValAsp 0.2.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">valasp package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="valasp-package">
<h1>valasp package<a class="headerlink" href="#valasp-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="valasp.domain.html">valasp.domain package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="valasp.domain.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="valasp.domain.html#module-valasp.domain.names">valasp.domain.names module</a></li>
<li class="toctree-l2"><a class="reference internal" href="valasp.domain.html#module-valasp.domain.primitive_types">valasp.domain.primitive_types module</a></li>
<li class="toctree-l2"><a class="reference internal" href="valasp.domain.html#module-valasp.domain.raisers">valasp.domain.raisers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="valasp.domain.html#module-valasp.domain">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="valasp.translators.html">valasp.translators package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="valasp.translators.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="valasp.translators.html#module-valasp.translators.yaml2python">valasp.translators.yaml2python module</a></li>
<li class="toctree-l2"><a class="reference internal" href="valasp.translators.html#module-valasp.translators.yaml_validation">valasp.translators.yaml_validation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="valasp.translators.html#module-valasp.translators">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-valasp.core">
<span id="valasp-core-module"></span><h2>valasp.core module<a class="headerlink" href="#module-valasp.core" title="Permalink to this headline">¶</a></h2>
<p>This module defines the <a class="reference internal" href="#valasp.core.Context" title="valasp.core.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> class, a convenient place where classes and &#64;-terms are registered.</p>
<p>An instance of <a class="reference internal" href="#valasp.core.Context" title="valasp.core.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> can wrap one or more classes and functions to be used as &#64;-terms by an ASP system.
Classes can be registered by using a convenient decorator, and are used to inject data validation into an external ASP program.</p>
<dl class="py class">
<dt id="valasp.core.Context">
<em class="property">class </em><code class="sig-prename descclassname">valasp.core.</code><code class="sig-name descname">Context</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wrap</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_arity</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span> <span class="o">=</span> <span class="default_value">16</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valasp/core.html#Context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The place where classes and &#64;-terms can be registered to make them available for the ASP system.</p>
<p>Typical usage just amount to create an instance and apply the <code class="docutils literal notranslate"><span class="pre">valasp</span></code> decorator to one or more classes, and
at the end call the method <code class="docutils literal notranslate"><span class="pre">run()</span></code> to execute the ASP system.</p>
<dl class="py method">
<dt id="valasp.core.Context.valasp">
<code class="sig-name descname">valasp</code><span class="sig-paren">(</span><em class="sig-param">validate_predicate: bool = True</em>, <em class="sig-param">with_fun: valasp.domain.primitive_types.Fun = &lt;Fun.FORWARD_IMPLICIT: 0&gt;</em>, <em class="sig-param">auto_blacklist: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valasp/core.html#Context.valasp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to process classes for ASP validation.</p>
<p>Annotations on a decorated class are used to define attributes and to inject an <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method.
If the class defines a <code class="docutils literal notranslate"><span class="pre">__post_init__()</span></code> method, it is called at the end of the <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method.
Other common magic methods are also injected, unless already defined in the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>validate_predicate</strong> – True if the class is associated with a predicate in the ASP program</p></li>
<li><p><strong>with_fun</strong> – modality of initialization for instances of the class</p></li>
<li><p><strong>auto_blacklist</strong> – if True, predicates with the same name but different arities are blacklisted</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a decorator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_add_validator">
<code class="sig-name descname">valasp_add_validator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">predicate</span><span class="p">:</span> <span class="n"><a class="reference internal" href="valasp.domain.html#valasp.domain.names.PredicateName" title="valasp.domain.names.PredicateName">valasp.domain.names.PredicateName</a></span></em>, <em class="sig-param"><span class="n">arity</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span></em>, <em class="sig-param"><span class="n">fun</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_add_validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_add_validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constraint validator for the given predicate name.</p>
<p>The constraint validator is paired with an &#64;-term, which in turn calls the constructor of the associated class name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> – a predicate name to be validated</p></li>
<li><p><strong>arity</strong> – the arity of the predicate</p></li>
<li><p><strong>fun</strong> – the function name expected by the constructor of the associated class name, or None if the constructor expects a single value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_all_arities_but">
<code class="sig-name descname">valasp_all_arities_but</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">excluded</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_all_arities_but"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_all_arities_but" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all arities but <code class="docutils literal notranslate"><span class="pre">excluded</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>excluded</strong> – an arity to exclude</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of arities</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_blacklist">
<code class="sig-name descname">valasp_blacklist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">predicate</span><span class="p">:</span> <span class="n"><a class="reference internal" href="valasp.domain.html#valasp.domain.names.PredicateName" title="valasp.domain.names.PredicateName">valasp.domain.names.PredicateName</a></span></em>, <em class="sig-param"><span class="n">arities</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_blacklist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_blacklist" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given predicate name to the blacklist, for all provided arities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predicate</strong> – the predicate name to blacklist</p></li>
<li><p><strong>arities</strong> – a list of arities, or None for blacklisting all arities</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_error">
<code class="sig-name descname">valasp_error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_extract_error_message">
<em class="property">static </em><code class="sig-name descname">valasp_extract_error_message</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">error</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)">Exception</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_extract_error_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_extract_error_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_is_reserved">
<code class="sig-name descname">valasp_is_reserved</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">auth</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_is_reserved"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_is_reserved" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the given key is reserved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – a string</p></li>
<li><p><strong>auth</strong> – if it is the internal secret, the <code class="docutils literal notranslate"><span class="pre">valasp</span></code> prefix is authorized</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if reserved</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_make_fun">
<code class="sig-name descname">valasp_make_fun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">args</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">body_lines</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">with_self</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; Callable<a class="reference internal" href="_modules/valasp/core.html#Context.valasp_make_fun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_make_fun" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function obtained by compiling the given code.</p>
<p>The provided code can refer classes and &#64;-terms registered in the context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – the name of the file associated with the given code (for reference in errors)</p></li>
<li><p><strong>name</strong> – the name of the function to create (for reference in errors)</p></li>
<li><p><strong>args</strong> – the argument names of the function</p></li>
<li><p><strong>body_lines</strong> – the actual code</p></li>
<li><p><strong>with_self</strong> – True if <code class="docutils literal notranslate"><span class="pre">self</span></code> must be included in the arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_register_class">
<code class="sig-name descname">valasp_register_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span><span class="p">:</span> <span class="n">ClassVar</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_register_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_register_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given class to the context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>other</strong> – a class</p>
</dd>
<dt class="field-even">Raise</dt>
<dd class="field-even"><p>KeyError if the name of the class is reserved</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_register_term">
<code class="sig-name descname">valasp_register_term</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference internal" href="valasp.domain.html#valasp.domain.names.PredicateName" title="valasp.domain.names.PredicateName">valasp.domain.names.PredicateName</a></span></em>, <em class="sig-param"><span class="n">args</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">body_lines</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">auth</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_register_term"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_register_term" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given &#64;-term to the context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – the name of the file associated with the given code (for reference in errors)</p></li>
<li><p><strong>name</strong> – the name of the &#64;-term</p></li>
<li><p><strong>args</strong> – the argument names</p></li>
<li><p><strong>auth</strong> – if it is the internal secret, the <code class="docutils literal notranslate"><span class="pre">valasp</span></code> prefix is authorized</p></li>
<li><p><strong>body_lines</strong> – the code to be associated with the &#64;-term</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_run">
<code class="sig-name descname">valasp_run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">control</span><span class="p">:</span> <span class="n">clingo.Control</span></em>, <em class="sig-param"><span class="n">on_validation_done</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">on_model</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">aux_program</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">with_validators</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">with_solve</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run grounder on the given controller, possibly performing validation and searching for a model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>control</strong> – a controller</p></li>
<li><p><strong>on_validation_done</strong> – a function invoked after grounding, if no validation error is reported</p></li>
<li><p><strong>on_model</strong> – a callback function to process a model</p></li>
<li><p><strong>aux_program</strong> – more ASP code to add to the program</p></li>
<li><p><strong>with_validators</strong> – if True, validator constraints are added, and <code class="docutils literal notranslate"><span class="pre">before_grounding*</span></code> and <code class="docutils literal notranslate"><span class="pre">after_grounding*</span></code> class methods are called</p></li>
<li><p><strong>with_solve</strong> – if True, a model is searched</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_run_class_methods">
<code class="sig-name descname">valasp_run_class_methods</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefix</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">'check'</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_run_class_methods"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_run_class_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>Crawl all class methods with a given prefix, and a call them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prefix</strong> – a string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_run_grounder">
<code class="sig-name descname">valasp_run_grounder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_program</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; clingo.Control<a class="reference internal" href="_modules/valasp/core.html#Context.valasp_run_grounder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_run_grounder" title="Permalink to this definition">¶</a></dt>
<dd><p>Run grounder for the given ASP code, including all validators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>base_program</strong> – ASP code</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the resulting controller</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_run_solver">
<code class="sig-name descname">valasp_run_solver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_program</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span>List<span class="p">[</span>clingo.SymbolicAtom<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_run_solver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_run_solver" title="Permalink to this definition">¶</a></dt>
<dd><p>Run solver on the given ASP program, including all validators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>base_program</strong> – ASP code</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a model, or None if the program is inconsistent</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="valasp.core.Context.valasp_validators">
<code class="sig-name descname">valasp_validators</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><a class="reference internal" href="_modules/valasp/core.html#Context.valasp_validators"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.core.Context.valasp_validators" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string with all constraint validators.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>constraints in a string</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-valasp.main">
<span id="valasp-main-module"></span><h2>valasp.main module<a class="headerlink" href="#module-valasp.main" title="Permalink to this headline">¶</a></h2>
<p>The main method when the module is executed as a script is defined here.</p>
<p>Here is an example of usage for a valid file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>valasp<span class="o">)</span> $ cat examples/bday.yaml
valasp:
    python: <span class="p">|</span>+
        import datetime
    asp: <span class="p">|</span>+

date:
    year: Integer
    month: Integer
    day: Integer

    valasp:
        validate_predicate: False
        with_fun: TUPLE
        after_init: <span class="p">|</span>+
            datetime.datetime<span class="o">(</span>self.year, self.month, self.day<span class="o">)</span>

bday:
    name:
        type: Alpha
        min: <span class="m">3</span>
    date: date

<span class="o">(</span>valasp<span class="o">)</span> $ cat examples/bday.valid.asp
bday<span class="o">(</span>sofia, <span class="o">(</span><span class="m">2019</span>,6,25<span class="o">))</span>.
bday<span class="o">(</span>leonardo, <span class="o">(</span><span class="m">2018</span>,2,1<span class="o">))</span>.

<span class="o">(</span>valasp<span class="o">)</span> $ python -m valasp examples/bday.yaml examples/bday.valid.asp
Answer: bday<span class="o">(</span>sofia,<span class="o">(</span><span class="m">2019</span>,6,25<span class="o">))</span> bday<span class="o">(</span>leonardo,<span class="o">(</span><span class="m">2018</span>,2,1<span class="o">))</span>
</pre></div>
</div>
<p>And here is an example of invalid file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>valasp<span class="o">)</span> $ cat examples/bday.invalid.asp
bday<span class="o">(</span>sofia, <span class="o">(</span><span class="m">2019</span>,6,25<span class="o">))</span>.
bday<span class="o">(</span>leonardo, <span class="o">(</span><span class="m">2018</span>,2,1<span class="o">))</span>.
bday<span class="o">(</span>bigel, <span class="o">(</span><span class="m">1982</span>,123<span class="o">))</span>.

<span class="o">(</span>valasp<span class="o">)</span> $ python -m valasp examples/bday.yaml examples/bday.invalid.asp
&lt;block&gt;:31:17-51: error: error in context:
  Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
    File <span class="s2">&quot;&lt;def valasp_validate_bday(value)&gt;&quot;</span>, line <span class="m">2</span>, in valasp_validate_bday
    File <span class="s2">&quot;&lt;def Bday.__init__(self, value)&gt;&quot;</span>, line <span class="m">16</span>, in Bday____init__
    File <span class="s2">&quot;&lt;def Date.__init__(self, value)&gt;&quot;</span>, line <span class="m">7</span>, in Date____init__
  ValueError: expecting arity <span class="m">3</span> <span class="k">for</span> TUPLE, but found <span class="m">2</span>
</pre></div>
</div>
<p>Functions in this module are not intended to be used directly or imported in some other module of this project.</p>
<dl class="py function">
<dt id="valasp.main.main">
<code class="sig-prename descclassname">valasp.main.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">args: List[str], stdout=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;, stderr=&lt;_io.TextIOWrapper name='&lt;stderr&gt;' mode='w' encoding='UTF-8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valasp/main.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.main.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="valasp.main.parse_args">
<code class="sig-prename descclassname">valasp.main.</code><code class="sig-name descname">parse_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">stdout</span></em>, <em class="sig-param"><span class="n">stderr</span></em><span class="sig-paren">)</span> &#x2192; Callable<a class="reference internal" href="_modules/valasp/main.html#parse_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.main.parse_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="valasp.main.print_python_code">
<code class="sig-prename descclassname">valasp.main.</code><code class="sig-name descname">print_python_code</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">asp_files</span></em>, <em class="sig-param"><span class="n">validation_code</span></em>, <em class="sig-param"><span class="n">stdout</span></em>, <em class="sig-param"><span class="n">stderr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valasp/main.html#print_python_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.main.print_python_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="valasp.main.process_yaml">
<code class="sig-prename descclassname">valasp.main.</code><code class="sig-name descname">process_yaml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yaml_file</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">]</span><a class="reference internal" href="_modules/valasp/main.html#process_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.main.process_yaml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="valasp.main.run_clingo">
<code class="sig-prename descclassname">valasp.main.</code><code class="sig-name descname">run_clingo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">asp_files</span></em>, <em class="sig-param"><span class="n">validation_code</span></em>, <em class="sig-param"><span class="n">with_solve</span></em>, <em class="sig-param"><span class="n">stdout</span></em>, <em class="sig-param"><span class="n">stderr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valasp/main.html#run_clingo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.main.run_clingo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="valasp.main.run_clingo_with_solve">
<code class="sig-prename descclassname">valasp.main.</code><code class="sig-name descname">run_clingo_with_solve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">asp_files</span></em>, <em class="sig-param"><span class="n">validation_code</span></em>, <em class="sig-param"><span class="n">stdout</span></em>, <em class="sig-param"><span class="n">stderr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valasp/main.html#run_clingo_with_solve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.main.run_clingo_with_solve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="valasp.main.run_clingo_without_solve">
<code class="sig-prename descclassname">valasp.main.</code><code class="sig-name descname">run_clingo_without_solve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">asp_files</span></em>, <em class="sig-param"><span class="n">validation_code</span></em>, <em class="sig-param"><span class="n">stdout</span></em>, <em class="sig-param"><span class="n">stderr</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valasp/main.html#run_clingo_without_solve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#valasp.main.run_clingo_without_solve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-valasp">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-valasp" title="Permalink to this headline">¶</a></h2>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">valasp package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-valasp.core">valasp.core module</a></li>
<li><a class="reference internal" href="#module-valasp.main">valasp.main module</a></li>
<li><a class="reference internal" href="#module-valasp">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to valasp’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="valasp.domain.html"
                        title="next chapter">valasp.domain package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/valasp.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="valasp.domain.html" title="valasp.domain package"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to valasp’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ValAsp 0.2.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">valasp package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Mario Alviano and Carmine Dodaro.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>